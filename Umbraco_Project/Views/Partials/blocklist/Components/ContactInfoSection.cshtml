@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>;
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@{
    var content = (ContentModels.ContactInfoSection)Model.Content;
    var settings = Model.Settings as ContentModels.ContactInfoSettings;

    var sectionBgColor = settings?.ContactInfoBgColor?.Color ?? "#FFFFFF";

    var rootContent = Umbraco.ContentAtRoot();
    var siteSettings = rootContent.OfType<SiteSettings>().FirstOrDefault();

    var address = siteSettings?.ContactAddress ?? "No address";
	var phone = siteSettings?.ContactPhoneNumber ?? "No phone";
	var email = siteSettings?.ContactEmailAddress ?? "No email";
}

<section class="pt-8 pb-8 lg:pb-0" style="background-color:@sectionBgColor">
    <div class="wrapper md:flex md:gap-16">

        <div class="hidden relative md:w-1/2 md:block">

            <div class="absolute bottom-0 right-15 top-20">
                @if (content.ContactInfoBgImageDots != null)
                {
                    <img class="w-full h-full object-cover overflow-hidden" src="@content.ContactInfoBgImageDots.Url()"/>
                }
            </div>

            <div class="absolute bottom-0 z-10">
                @if (content.ContactInfoBgImageGreen != null)
                {
                    <img src="@content.ContactInfoBgImageGreen.Url()" />
                }
            </div>

            <div class="relative z-20">
                @if (content.ContactInfoImage != null)
                {
                    <img src="@content.ContactInfoImage.Url()" />
                }
            </div>

        </div>

        <div class="flex flex-col justify-center  gap-8 px-12 md:w-1/2">
            <h2 class="text-primary font-bold text-[1.375rem] md:text-[2.5rem]">@content.ContactInfoTitle</h2>

            <div class="flex flex-col gap-8">

                <div class=" grid grid-cols-[auto,1fr] grid-rows-2 auto-cols-max gap-1">
                    <i class="fa-solid fa-location-dot text-secondary"></i>
                    <p class="text-primary font-semibold text-[0.875rem]">Office location</p>
                    <p class="text-body-text text-[0.875rem] col-start-2">@address</p>
                </div>

                <div class=" grid grid-cols-[auto,1fr] grid-rows-2 auto-cols-max gap-1">
                    <i class="fa-solid fa-phone text-secondary"></i>
                    <p class="text-primary font-semibold text-[0.875rem]">Phone number</p>
                    <p class="text-body-text text-[0.875rem] italic col-start-2">@phone</p>
                </div>

                <div class=" grid grid-cols-[auto,1fr] grid-rows-2 auto-cols-max gap-1">
                    <i class="fa-regular fa-envelope text-secondary"></i>
                    <p class="text-primary font-semibold text-[0.875rem]">E-mail address</p>
                    <p class="text-body-text text-[0.875rem] italic col-start-2">@email</p>
                </div>

            </div> 
        </div>

    </div>
</section>